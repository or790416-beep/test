<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 多功能工具箱</title>
    <style>
        :root { --primary: #6366f1; --bg: #f8fafc; --card: #ffffff; }
        body { font-family: 'PingFang TC', sans-serif; background: var(--bg); display: flex; justify-content: center; padding: 20px; }
        .container { width: 100%; max-width: 500px; background: var(--card); border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.05); overflow: hidden; }
        
        /* 頁籤切換 */
        .tabs { display: flex; background: #eee; }
        .tab { flex: 1; padding: 15px; text-align: center; cursor: pointer; border-bottom: 3px solid transparent; font-weight: bold; }
        .tab.active { border-bottom-color: var(--primary); color: var(--primary); background: #fff; }

        .content { padding: 20px; display: none; }
        .content.active { display: block; }

        /* 計算機樣式 */
        #display { width: 100%; height: 60px; font-size: 1.5rem; text-align: right; margin-bottom: 10px; padding: 10px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; }
        .grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; }
        button { padding: 15px; border: none; border-radius: 8px; cursor: pointer; background: #f1f5f9; font-size: 1.1rem; }
        button:hover { background: #e2e8f0; }
        .btn-op { background: #fbbf24; color: white; }
        .btn-eq { background: var(--primary); color: white; grid-column: span 2; }

        /* 翻譯樣 style */
        textarea { width: 100%; height: 100px; border-radius: 8px; border: 1px solid #ddd; padding: 10px; box-sizing: border-box; font-size: 1rem; }
        .translate-result { margin-top: 15px; padding: 15px; background: #f1f5f9; border-radius: 8px; min-height: 50px; color: #333; }

        /* 匯率樣式 */
        .rate-row { display: flex; gap: 10px; margin-bottom: 15px; align-items: center; }
        select, input[type="number"] { padding: 8px; border-radius: 5px; border: 1px solid #ddd; }
    </style>
</head>
<body>

<div class="container">
    <div class="tabs">
        <div class="tab active" onclick="showTab('calc')">計算機</div>
        <div class="tab" onclick="showTab('trans')">中英翻譯</div>
        <div class="tab" onclick="showTab('rate')">匯率換算</div>
    </div>

    <!-- 計算機內容 -->
    <div id="calc" class="content active">
        <input type="text" id="display" placeholder="0" readonly>
        <div class="grid">
            <button onclick="clearCalc()" style="color:red">C</button>
            <button onclick="input('/')">/</button>
            <button onclick="input('*')">×</button>
            <button onclick="backspace()">⌫</button>
            <button onclick="input('7')">7</button><button onclick="input('8')">8</button><button onclick="input('9')">9</button>
            <button class="btn-op" onclick="input('-')">-</button>
            <button onclick="input('4')">4</button><button onclick="input('5')">5</button><button onclick="input('6')">6</button>
            <button class="btn-op" onclick="input('+')">+</button>
            <button onclick="input('1')">1</button><button onclick="input('2')">2</button><button onclick="input('3')">3</button>
            <button class="btn-eq" onclick="solve()">=</button>
            <button onclick="input('0')" style="grid-column: span 2;">0</button>
            <button onclick="input('.')">.</button>
        </div>
    </div>

    <!-- 翻譯內容 -->
    <div id="trans" class="content">
        <h3>中文翻譯英文</h3>
        <textarea id="sourceText" placeholder="請輸入中文..."></textarea>
        <button onclick="translateText()" style="width: 100%; margin-top: 10px; background: var(--primary); color: white;">翻譯 (API 模擬)</button>
        <div class="translate-result" id="targetText">翻譯結果會顯示在這裡...</div>
        <p style="font-size: 12px; color: #888; margin-top: 10px;">註：實際開發需串接 Google Translate API，此為示範邏輯。</p>
    </div>

    <!-- 匯率內容 -->
    <div id="rate" class="content">
        <h3>即時匯率換算 (2026 參考價)</h3>
        <div class="rate-row">
            <span>金額：</span>
            <input type="number" id="amount" value="100" style="flex:1">
        </div>
        <div class="rate-row">
            <select id="fromCurr"><option value="TWD">台幣 TWD</option><option value="USD">美金 USD</option></select>
            <span> ➔ </span>
            <select id="toCurr"><option value="USD">美金 USD</option><option value="TWD">台幣 TWD</option><option value="JPY">日圓 JPY</option></select>
        </div>
        <button onclick="convertCurrency()" style="width: 100%; background: #10b981; color: white;">執行換算</button>
        <h2 id="rateResult" style="text-align: center; color: var(--primary);">---</h2>
    </div>
</div>

<script>
    // 頁籤切換邏輯
    function showTab(tabId) {
        document.querySelectorAll('.content').forEach(c => c.classList.remove('active'));
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        document.getElementById(tabId).classList.add('active');
        event.currentTarget.classList.add('active');
    }

    // --- 計算機功能 ---
    const display = document.getElementById('display');
    function input(val) { display.value += val; }
    function clearCalc() { display.value = ''; }
    function backspace() { display.value = display.value.slice(0, -1); }
    function solve() {
        try { display.value = eval(display.value); } 
        catch { display.value = '錯誤'; }
    }
    // 支援鍵盤
    document.addEventListener('keydown', (e) => {
        if (document.getElementById('calc').classList.contains('active')) {
            if (/[0-9+\-*/.]/.test(e.key)) input(e.key);
            if (e.key === 'Enter') solve();
            if (e.key === 'Backspace') backspace();
        }
    });

    // --- 翻譯功能 (示範 API 串接邏輯) ---
    async function translateText() {
        const text = document.getElementById('sourceText').value;
        const resultDiv = document.getElementById('targetText');
        if (!text) return;
        
        resultDiv.innerText = "翻譯中...";
        // 實際開發會使用 fetch('https://translation.googleapis.com...')
        // 這裡模擬翻譯過程
        setTimeout(() => {
            const mockData = { "你好": "Hello", "謝謝": "Thank you", "我愛你": "I love you" };
            resultDiv.innerText = mockData[text] || "Sorry, I can't translate that yet (Need API Key).";
        }, 500);
    }

    // --- 匯率功能 ---
    function convertCurrency() {
        const amount = document.getElementById('amount').value;
        const from = document.getElementById('fromCurr').value;
        const to = document.getElementById('toCurr').value;
        const rates = { 
            'TWD_USD': 0.031, 'USD_TWD': 32.5, 
            'TWD_JPY': 4.65, 'USD_JPY': 151.2 
        };
        
        let pair = `${from}_${to}`;
        if (from === to) {
            document.getElementById('rateResult').innerText = amount + " " + to;
        } else {
            let res = amount * (rates[pair] || 1);
            document.getElementById('rateResult').innerText = res.toFixed(2) + " " + to;
        }
    }
</script>

</body>
</html>
